# 字符处理函数

## 字符串连接

#### 功能概述

将多个输入字符串按照顺序连接成一个新的字符串。可用于拼接多个片段或变量，实现字符串的合并操作。

#### 数据类型

- **输入A ~ 输入D**：依次连接的字符串片段（可根据需要连接 1~4 个字符串）。
- **输出**：按输入顺序拼接后的完整新字符串。

## 字符串索引位置

#### 功能概述

“字符串索引位置”逻辑块用于判断某个字符串是否出现在另一个字符串中，并获取其索引位置。

它主要用途包括：
- 分析设备上报的字符串数据（例如状态信息、传感器回调、日志内容等）
- 判断特定字段或关键字是否存在
- 获取关键字的起始位置，为后续逻辑处理提供索引参考。

#### 数据类型

| 参数       | 类型    | 是否必填/可设置 | 说明                                                                  |
|------------|---------|:--------------:|-----------------------------------------------------------------------|
| 输入 A     | String  | 必填输入        | 待搜索的原始字符串。                                                 |
| 输入 B     | String  | 必填输入        | 需要查找的子字符串。                                                 |
| 起始索引   | Number  | 可选输入        | 指定从哪一个索引开始搜索。默认从 0 开始。（可选）                   |
| 输出       | Boolean | 输出参数        | 是否找到输入 B 字符串。                                             |
| 开始索引   | Number  | 输出参数        | 首次匹配到输入 B 字符串时在原字符串中的索引位置，未找到时返回 -1。   |
| 之后索引   | Number  | 输出参数        | 可用于下一次查找的“起始索引”，方便连续查找。                         |

:::tip 提示
索引起始值为 0。
:::

#### 示例

以“匹配单个字符”为例，步骤如下：
1. 在画布上在画布中添加**字符串索引位置**逻辑块。
2. 设置一个字符串变量，值为 `1234a567899999a`，将其连接值**字符串索引位置**逻辑块的输入A。
3. 设置一个字符串变量，值为 `a`，将其连接值**字符串索引位置**逻辑块的输入B。
4. 不设置起始索引，即默认从 0 开始。
4. 运行后，逻辑块输出结果如下：
   - **输出（布尔值）**：`true`
   - **开始索引**：`4`
   - **之后索引**：`5`

通过该示例，您可以看到字符串 B 第一次在字符串 A 出现的位置是 4。如需再次查询，应当设置`起始索引`为 5.

## 字符串长度

#### 功能概述

获取指定字符串的长度。

#### 数据类型

- **输入**：待查询的字符串。
- **输出**：字符串长度。

## 字符串子串（Substring）

#### 功能概述

**字符串子串** 指的是**利用**开始索引**和**结束索引**，从一个已有字符串中提取出的一段连续字符**。


#### 数据类型

| 参数         | 类型    | 是否必填/可设置 | 说明                                 |
| ------------ | ------- | :------------: | ------------------------------------ |
| 输入         | String  | 必填输入        | 原始字符串                           |
| 开始索引     | Number  | 必填输入        | 子串起始位置（包含此索引，索引从0计）|
| 结束索引     | Number  | 可选输入        | 子串结束位置（不包含此索引），可省略时默认到结尾|
| 输出         | String  | 输出参数        | 截取得到的子串                       |

#### 示例

以“字符串子串”为例，步骤如下：
1. 在画布上添加**字符串子串**逻辑块。
2. 设置一个字符串变量，值为 `Hello, Smart Home!`，将其连接到**字符串子串**逻辑块的**输入**参数。
3. 设置**开始索引**为0，**结束索引**为5，表示提取从索引0开始到索引4（含），共5个字符。
4. 运行后，逻辑块输出结果如下：
   - **输出（子串）**：`Hello`

若需要截取其他片段，如从索引7到索引12，可以这样设置：

1. 设置**开始索引**为7，**结束索引**为12。
2. 运行后，逻辑块输出结果如下：
   - **输出（子串）**：`Smart`

通过该示例，您可以看到如何使用**字符串子串**逻辑块截取指定区间的内容。如需截取到字符串结尾，可省略结束索引参数。


## 字符串修剪

#### 概念

字符串修剪，是指删除字符串开头和结尾的空白字符，中间内容不受影响。

#### 数据类型

- **输入**：待修剪的原始字符串。
- **输出**：修剪后的字符串。

#### 示例

以“字符串修剪”为例，步骤如下：
1. 在画布上添加**字符串修剪**逻辑块。
2. 设置一个字符串变量，值为 `   temperature=24   `，并连接到**字符串修剪**逻辑块的**输入**参数。
3. 运行后，逻辑块输出结果如下：
   - **修剪前**：`   temperature=24   `
   - **修剪后（去掉首尾空格）**：`temperature=24`