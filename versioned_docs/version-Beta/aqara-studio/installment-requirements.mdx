# 系统部署要求

## 系统环境要求

| 操作系统类型   | 支持版本                  | 推荐版本                |
| ------------- | ------------------------ | ---------------------- |
| Linux系统     | Centos、Ubuntu           | Ubuntu 服务器版 22.04    |
| Windows系统   | Win8 及以上              | -                       |

## 硬件配置要求

| 配置项           | 说明                                                                         |
| ---------------- | ---------------------------------------------------------------------------- |
| 最低配置         | 1 核心 CPU，2GB 内存。                                                          |
| 通用配置         | <ul><li>（**推荐**）4 核心 CPU，8GB 内存</li><li>2 核心 CPU，4GB 内存</li></ul>                       |
| 内存配置建议     | 每增加 10,000 个功能节点，需增加 1GB 内存；每增加 500 台设备，需增加 1GB 内存。   |

### 最大接入能力

下表为不同服务器配置下的 AIOT-STUDIO 支持的最大设备接入量与功能点数，仅供参考：

| 服务器配置          | 最大设备接入量 | 最大功能点数 |
| -------------------------- | -------------- | ------------ |
| 4 核心 CPU，8GB 内存，500G SSD   | 3,000          | 60,000       |
| 8 核心 CPU，16GB 内存，500G SSD  | 6,000          | 120,000      |
| 16 核心 CPU，32GB 内存，500G SSD | 10,000         | 240,000      |

> **备注：**
> - 如需支持冷备功能，在接入量和功能点数相同条件下，需部署两台相同配置的服务器。

## 网络配置要求

### 部署服务器要求

1. **操作系统已安装时**：需要短暂打开外网以安装部分依赖软件。
2. **全新一体化部署时**：可离线完成，无需外网接入。
3. **网络要求**：服务器需配置固定 IP 地址，以便设备正常连接。

### 端口要求

- **网关设备接入**：需确保服务器开放以下端口：
  - TCP 5050（设备入网）
  - TCP 11111（设备连接）
- **用户访问**：需开放端口 TCP 80（Web 访问）

#### 开放端口一览

| 端口     | 用途         |
| -------- | ------------ |
| TCP 80   | Web 访问     |
| TCP 5050 | 设备入网     |
| TCP 11111| 设备连接     |

## 部署功能

| 序号 | 功能                                                         | 是否必须 |
| ---- | ------------------------------------------------------------ | -------- |
| 1    | Studio Server 应用后台                                       | 必选     |
| 2    | Studio 实时数据库                                            | 必选     |
| 3    | Studio 图数据库、数据分析和处理                              | 可选     |
| 4    | Studio 可视化操作系统                                        | 可选     |
| 5    | 时序数据库：influxDB 和 TDengine 插件化选择                  | 可选     |
| 6    | 为特定业务，安装部署的中间件 <br /> 1）MQTT 设备接入，需单独部署 MQTT Broker<br /> 2）RDB 数据库（mysql） | 可选     |
| 7    | 支持服务器和数据的冷备功能                                   | 可选     |
